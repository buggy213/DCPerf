diff --git a/build/fbcode_builder/getdeps.py b/build/fbcode_builder/getdeps.py
index d6131356c0..d8a4a14068 100755
--- a/build/fbcode_builder/getdeps.py
+++ b/build/fbcode_builder/getdeps.py
@@ -669,12 +669,19 @@ class BuildCmd(ProjectCmdBase):
                     cached_project, fetcher, m, built_marker, project_hash
                 )
 
+                print(f'{m.name} reconfigure? ', reconfigure)
+                print(f'{m.name} sources changed? ', sources_changed)
+                print(f'{m.name} marker? ', os.path.exists(built_marker))
+
                 if os.path.exists(built_marker) and not cached_project.was_cached():
                     # We've previously built this. We may need to reconfigure if
                     # our deps have changed, so let's check them.
                     dep_reconfigure, dep_build = self.compute_dep_change_status(
                         m, built_marker, loader
                     )
+
+                    print(f'{m.name} reconfigure? ', reconfigure)
+                    print(f'{m.name} sources changed? ', sources_changed)
                     if dep_reconfigure:
                         reconfigure = True
                     if dep_build:
@@ -688,6 +695,11 @@ class BuildCmd(ProjectCmdBase):
 
                 extra_b2_args = args.extra_b2_args or []
 
+                if m.name == 'folly':
+                    print('squash folly rebuild')
+                    sources_changed = False
+                    reconfigure = False
+
                 if sources_changed or reconfigure or not os.path.exists(built_marker):
                     if os.path.exists(built_marker):
                         os.unlink(built_marker)
diff --git a/build/fbcode_builder/manifests/folly b/build/fbcode_builder/manifests/folly
index c406e8aed4..d400df93a9 100644
--- a/build/fbcode_builder/manifests/folly
+++ b/build/fbcode_builder/manifests/folly
@@ -45,7 +45,7 @@ openssl
 zlib
 
 [dependencies.os=linux]
-libiberty
+# libiberty
 libunwind
 
 # xz depends on autoconf which does not build on
diff --git a/thrift/lib/cpp2/CMakeLists.txt b/thrift/lib/cpp2/CMakeLists.txt
index bc86909c5d..12424f5f18 100644
--- a/thrift/lib/cpp2/CMakeLists.txt
+++ b/thrift/lib/cpp2/CMakeLists.txt
@@ -21,8 +21,11 @@ endif ()
 
 if (enable_tests)
   add_subdirectory(protocol/test)
-  add_subdirectory(test)
+  # add_subdirectory(test)
 endif ()
+# unconditionally add it, as it was in original
+add_subdirectory(test)
+
 
 #######
 # CMAKE variables only have local/subdirectory scope
